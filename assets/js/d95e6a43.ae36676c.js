"use strict";(self.webpackChunk_0_l_documentation=self.webpackChunk_0_l_documentation||[]).push([[431],{3905:(e,t,r)=>{r.d(t,{Zo:()=>d,kt:()=>g});var a=r(7294);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},o=Object.keys(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var l=a.createContext({}),s=function(e){var t=a.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},d=function(e){var t=s(e.components);return a.createElement(l.Provider,{value:t},e.children)},u="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var r=e.components,n=e.mdxType,o=e.originalType,l=e.parentName,d=p(e,["components","mdxType","originalType","parentName"]),u=s(r),m=n,g=u["".concat(l,".").concat(m)]||u[m]||c[m]||o;return r?a.createElement(g,i(i({ref:t},d),{},{components:r})):a.createElement(g,i({ref:t},d))}));function g(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=r.length,i=new Array(o);i[0]=m;var p={};for(var l in t)hasOwnProperty.call(t,l)&&(p[l]=t[l]);p.originalType=e,p[u]="string"==typeof e?e:n,i[1]=p;for(var s=2;s<o;s++)i[s]=r[s];return a.createElement.apply(null,i)}return a.createElement.apply(null,r)}m.displayName="MDXCreateElement"},2842:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>c,frontMatter:()=>o,metadata:()=>p,toc:()=>s});var a=r(7462),n=(r(7294),r(3905));const o={sidebar_position:3,description:"Upgrade VM Libraries"},i="Txs - Upgrade",p={unversionedId:"Tools/txs/upgrade",id:"Tools/txs/upgrade",title:"Txs - Upgrade",description:"Upgrade VM Libraries",source:"@site/docs/Tools/txs/upgrade.md",sourceDirName:"Tools/txs",slug:"/Tools/txs/upgrade",permalink:"/Tools/txs/upgrade",draft:!1,editUrl:"https://github.com/0LNetworkCommunity/documentation/edit/main/docs/Tools/txs/upgrade.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3,description:"Upgrade VM Libraries"},sidebar:"tutorialSidebar",previous:{title:"Txs - Transfer",permalink:"/Tools/txs/transfer"},next:{title:"Txs - Validator",permalink:"/Tools/txs/validator"}},l={},s=[{value:"Description",id:"description",level:2},{value:"Upgrading the Network",id:"upgrading-the-network",level:3},{value:"Upgrade Transactions",id:"upgrade-transactions",level:2},{value:"Propose an Upgrade",id:"propose-an-upgrade",level:3},{value:"Vote on an Upgrade",id:"vote-on-an-upgrade",level:3}],d={toc:s},u="wrapper";function c(e){let{components:t,...r}=e;return(0,n.kt)(u,(0,a.Z)({},d,r,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"txs---upgrade"},"Txs - Upgrade"),(0,n.kt)("h2",{id:"description"},"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"libra txs upgrade"),"  subcommand includes a set of subcommands tailored for validator operations. These commands facilitate actions like proposing and voting on network upgrades,."),(0,n.kt)("h3",{id:"upgrading-the-network"},"Upgrading the Network"),(0,n.kt)("p",null,'This tool is specifically for Hot upgrades. Hot upgrades to 0L Move framework (AKA "stdlib") require no halting of the network and are achieved with the Upgrade Oracle. This can be done when there are non-breaking changes to the vm (in Rust), and the stdlib (Move) has migrations in place in case of schema changes.'),(0,n.kt)("p",null,"A detailed explanation can be found ",(0,n.kt)("a",{parentName:"p",href:"/validators/hot-upgrades"},"here")),(0,n.kt)("h2",{id:"upgrade-transactions"},"Upgrade Transactions"),(0,n.kt)("h3",{id:"propose-an-upgrade"},"Propose an Upgrade"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Syntax"),": ",(0,n.kt)("inlineCode",{parentName:"li"},"libra txs upgrade propose --proposal-script-dir <PATH_TO_SCRIPT> --metadata-url <URL>")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Function"),": Initiates a proposal for a network upgrade."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Parameters"),":",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"proposal-script-dir"),": Directory containing the compiled proposal script."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"metadata-url"),": URL describing the proposal."))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Example"),":",(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre"},'libra txs upgrade propose --proposal-script-dir /path/to/script --metadata-url "http://example.com/proposal"\n')))),(0,n.kt)("h3",{id:"vote-on-an-upgrade"},"Vote on an Upgrade"),(0,n.kt)("p",null,"With txs anyone with governance authority (the epoch's validators as of V7), can submit a vote in favor (or against it with --should-fail)"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Syntax"),": ",(0,n.kt)("inlineCode",{parentName:"li"},"libra txs upgrade vote --proposal-id <ID> [--should-fail]")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Function"),": Casts a vote on an existing upgrade proposal."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Parameters"),":",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"proposal-id"),": On-chain ID of the proposal."))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Example"),":"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Vote YES on an Upgrade"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre"},"libra txs upgrade vote --proposal-id 12345\n"))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Vote NO on an Upgrade"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre"},"libra txs upgrade vote --proposal-id 12345 --should-fail\n")))))}c.isMDXComponent=!0}}]);