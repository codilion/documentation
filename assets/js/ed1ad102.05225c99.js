"use strict";(self.webpackChunk_0_l_documentation=self.webpackChunk_0_l_documentation||[]).push([[1115],{3905:(e,t,a)=>{a.d(t,{Zo:()=>p,kt:()=>f});var r=a(7294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var s=r.createContext({}),d=function(e){var t=r.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},p=function(e){var t=d(e.components);return r.createElement(s.Provider,{value:t},e.children)},c="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var a=e.components,n=e.mdxType,o=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),c=d(a),m=n,f=c["".concat(s,".").concat(m)]||c[m]||u[m]||o;return a?r.createElement(f,i(i({ref:t},p),{},{components:a})):r.createElement(f,i({ref:t},p))}));function f(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=a.length,i=new Array(o);i[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[c]="string"==typeof e?e:n,i[1]=l;for(var d=2;d<o;d++)i[d]=a[d];return r.createElement.apply(null,i)}return r.createElement.apply(null,a)}m.displayName="MDXCreateElement"},698:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>u,frontMatter:()=>o,metadata:()=>l,toc:()=>d});var r=a(7462),n=(a(7294),a(3905));const o={sidebar_position:3,description:"Control a Validator"},i="Txs - Validator",l={unversionedId:"Tools/txs/validator",id:"Tools/txs/validator",title:"Txs - Validator",description:"Control a Validator",source:"@site/docs/Tools/txs/validator.md",sourceDirName:"Tools/txs",slug:"/Tools/txs/validator",permalink:"/Tools/txs/validator",draft:!1,editUrl:"https://github.com/0LNetworkCommunity/documentation/edit/main/docs/Tools/txs/validator.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3,description:"Control a Validator"},sidebar:"tutorialSidebar",previous:{title:"Txs - Upgrade",permalink:"/Tools/txs/upgrade"},next:{title:"Genesis",permalink:"/Tools/genesis"}},s={},d=[{value:"Description",id:"description",level:2},{value:"Validator Transactions",id:"validator-transactions",level:2},{value:"Proof of Fee (POF) Operations",id:"proof-of-fee-pof-operations",level:3},{value:"Register Validator",id:"register-validator",level:3},{value:"Update Network and Fullnode Addresses",id:"update-network-and-fullnode-addresses",level:3},{value:"Manage Vouching Operations",id:"manage-vouching-operations",level:3},{value:"Manage Jail Operations",id:"manage-jail-operations",level:3}],p={toc:d},c="wrapper";function u(e){let{components:t,...a}=e;return(0,n.kt)(c,(0,r.Z)({},p,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"txs---validator"},"Txs - Validator"),(0,n.kt)("h2",{id:"description"},"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"libra txs validator"),"  subcommand includes a set of subcommands tailored for validator operations. These commands facilitate actions like managing validator-specific transactions such as bids for joining the validator set."),(0,n.kt)("h2",{id:"validator-transactions"},"Validator Transactions"),(0,n.kt)("h3",{id:"proof-of-fee-pof-operations"},"Proof of Fee (POF) Operations"),(0,n.kt)("p",null,"OL Network uses the ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/0LNetworkCommunity/libra-framework"},"Libra Framework")," that uses an experimental algorithm called Proof of Fee(PoF) to determine the validator selection. Libra Framework's consensus mechanism stands apart from the more commonly known frameworks like Proof of Stake (PoS), Delegated Proof of Stake (DPoS), and Proof of Work (PoW), which are prevalent in many other blockchain networks. Instead of following these established paradigms, OL Network employs a unique auction-based system for validator selection."),(0,n.kt)("p",null,"In this system, validators are required to submit bids as part of a competitive auction process. The number of available seats for validators is dynamic, and these seats are allocated based on the bid amounts. The bids are evaluated in descending order, and the highest bidders are granted validator status until all the seats are filled. A critical aspect of this mechanism is that all participating validators, regardless of their individual bid amounts, will eventually pay the same fee \u2014 equal to the lowest accepted bid in the auction."),(0,n.kt)("p",null,"For a deeper understanding of this distinctive approach, you can delve into the conceptual and operational intricacies detailed in the following papers: ",(0,n.kt)("a",{parentName:"p",href:"https://0l.network/2022/10/15/proof-of-fee-part-1/"},"Part 1")," & ",(0,n.kt)("a",{parentName:"p",href:"https://0l.network/2022/10/20/proof-of-fee-part-2-a-proposal/"},"Part 2")),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Function"),": Manages bids for joining the validator set."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Syntax"),": ",(0,n.kt)("inlineCode",{parentName:"li"},"libra txs validator pof --bid-pct <BID_PERCENTAGE>   --expiry <EXPIRY>")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Parameters"),":",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"bid-pct"),": Percentage of the nominal reward bid for validator set entry."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"expiry"),": Set the expiry epoch that your bid expires on."))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Example"),":",(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre"},"libra txs validator pof --bid-pct 123.4 --expiry 1000\n")))),(0,n.kt)("h3",{id:"register-validator"},"Register Validator"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Make sure you have your config at ",(0,n.kt)("inlineCode",{parentName:"p"},"~/.libra/libra.yaml")," with ",(0,n.kt)("inlineCode",{parentName:"p"},"libra config init"))),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Function"),": Registers a new validator on the network."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Syntax"),": ",(0,n.kt)("inlineCode",{parentName:"li"},"libra txs validator register [--operator-file <OPERATOR_FILE_PATH>]")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Parameters"),":",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"operator-file"),": the file with a validators operator information. Usually found in ~/.libra/operator.yaml."))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Example"),":",(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre"},"libra txs validator register --operator-file ~/.libra/operator.yaml\n")))),(0,n.kt)("h3",{id:"update-network-and-fullnode-addresses"},"Update Network and Fullnode Addresses"),(0,n.kt)("p",null,"Within the Libra framework, the validator's operational settings are managed through a configuration file named operator.yaml, typically located in the ~/.libra/ directory. This file encapsulates key configuration details for the validator. To update the validator's operational parameters, one can modify this configuration file and then submit a corresponding transaction to the Libra blockchain. This transaction ensures that the changes in the configuration file are acknowledged and implemented by the network."),(0,n.kt)("p",null,"For your reference, the structure and content of the operator.yaml file are outlined below. It's important to note that the actual configuration may vary based on specific network requirements and validator setups:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},'---\noperator_account_address: 00000000000000000000000000000000d1281de242839fc939745996882c5fc2\noperator_account_public_key: "0x264cb0b3463a61177bc2a33a1b81df55cf92177ab216a0460f6aba57b5b0d2f2"\nconsensus_public_key: "0xb99f4b268d6aac24e4ca47f08faa2cb8aead75d2f495982c736dce340edd8a5bcba2d052e23f135e0ccc13136be16e97"\nconsensus_proof_of_possession: "0xb382b44e9a115e044da4f9bcc1bd8f75d819a029644ff2221b019bc20dea08f7ebfc1ea47d3e1d4a0c44c4207865e972116ef75af121bb9baefed3fb8e71e98b540da60bbd0375e70dd8df24f9e85ed69bacac65a6b440dd476b27fdfdf5475fe"\nvalidator_network_public_key: "0x0a3cab5f2ecb29bdb4a9efe1dd4576feacefe4ec74ab7ef65d472bbb4461804d"\nvalidator_host:\n  host: 35.86.200.84\n  port: 6180\nfull_node_network_public_key: ~\nfull_node_host: ~\n\n')),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Function"),": Updates network addresses for a validator and associated full nodes."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Syntax"),": ",(0,n.kt)("inlineCode",{parentName:"li"},"libra txs validator update --operator-file <OPERATOR_FILE_PATH>")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Parameters"),":",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"operator-file"),": the file with a validators operator information. Usually found in ~/.libra/operator.yaml."))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Example"),":",(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre"},"libra txs validator update --operator-file ~/.libra/operator.yaml\n")))),(0,n.kt)("h3",{id:"manage-vouching-operations"},"Manage Vouching Operations"),(0,n.kt)("p",null,'In the Libra framework, the concept of "vouching" is implemented as a means to establish and assess trust among participants. Primarily applied in the context of validators, this mechanism requires each validator to secure vouches from two existing validators. These endorsing validators must belong to distinct ancestry trees; in other words, they should not be part of the same lineage or hierarchical chain of account creation.'),(0,n.kt)("p",null,"Additionally, the vouching system is governed by certain predefined rules. Each vouch has a finite lifespan, set to expire after 90 epochs. There is also a financial aspect to vouching: obtaining a vouch incurs a cost of 1000 microlibra. This amount is not merely a fee but is burned, signifying a tangible commitment and adding a layer of economic deterrence against frivolous or inauthentic vouching."),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Function"),": Manages vouching for or revoking a vouch for other entities in the network."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Syntax"),": ",(0,n.kt)("inlineCode",{parentName:"li"},"libra txs validator vouch --vouch-for <VALIDATOR_ADDRESS> [--revoke]")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Parameters"),": ",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"vouch-for"),": The account of the validator you would like to vouch for or remove your vouch for"))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Example"),":"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Vouch for a validator"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre"},"libra txs validator vouch --vouch-for 0xC7394B8AF7BC3BDB9258C53DFFDA7F2B     \n"))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Remove a vouch for a validator"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre"},"libra txs validator vouch --vouch-for 0xC7394B8AF7BC3BDB9258C53DFFDA7F2B --revoke\n")))),(0,n.kt)("h3",{id:"manage-jail-operations"},"Manage Jail Operations"),(0,n.kt)("p",null,'In the Libra framework, validators failing to meet consensus rules, especially in performance, are "jailed" and removed from the validator set. They can only rejoin once a validator who previously vouched for them submits an "unjail" transaction. This jailing process, part of the Vouch system, impacts the reputations and responsibilities of both the jailed validator and their voucher, with consequences extending recursively to others in the vouching chain. Additionally, the voucher risks losing financial deposits, adding a significant stake to the maintenance of network standards and performance.'),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Function"),": Manages Jail functions within the network."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Syntax"),": ",(0,n.kt)("inlineCode",{parentName:"li"},"libra txs validator jail --unjail-acct <UNJAIL_ACCT>")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Parameters"),": ",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"unjail-acct"),": The account of the validator a voucher would like to unjail"))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Example"),":",(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre"},"libra txs validator  jail --unjail-acct 0xC7394B8AF7BC3BDB9258C53DFFDA7F2B   \n")))),(0,n.kt)("hr",null))}u.isMDXComponent=!0}}]);